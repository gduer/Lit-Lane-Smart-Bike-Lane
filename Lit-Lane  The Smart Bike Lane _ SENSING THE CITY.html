<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) & !(IE 8)]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>Lit-Lane: The Smart Bike Lane | SENSING THE CITY</title>
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<link rel="pingback" href="http://www.sensingthecity.com/xmlrpc.php">
	<!--[if lt IE 9]>
	<script src="http://www.sensingthecity.com/wp-content/themes/twentyfourteen/js/html5.js"></script>
	<![endif]-->
	<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link href='https://fonts.gstatic.com' crossorigin rel='preconnect' />
<link rel="alternate" type="application/rss+xml" title="SENSING THE CITY &raquo; Feed" href="http://www.sensingthecity.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="SENSING THE CITY &raquo; Comments Feed" href="http://www.sensingthecity.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="SENSING THE CITY &raquo; Lit-Lane: The Smart Bike Lane Comments Feed" href="http://www.sensingthecity.com/lit-lane-the-smart-bike-lane/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.sensingthecity.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.8.4"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,56826,8203,55356,56819),0,0),c=j.toDataURL(),b!==c&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55358,56794,8205,9794,65039),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55358,56794,8203,9794,65039),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css'  href='http://www.sensingthecity.com/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-arduino-ide-css'  href='http://www.sensingthecity.com/wp-content/plugins/crayon-syntax-highlighter/themes/arduino-ide/arduino-ide.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='http://www.sensingthecity.com/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='twentyfourteen-lato-css'  href='https://fonts.googleapis.com/css?family=Lato%3A300%2C400%2C700%2C900%2C300italic%2C400italic%2C700italic&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='http://www.sensingthecity.com/wp-content/plugins/jetpack/_inc/genericons/genericons/genericons.css?ver=3.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentyfourteen-style-css'  href='http://www.sensingthecity.com/wp-content/themes/twentyfourteen/style.css?ver=4.8.4' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentyfourteen-ie-css'  href='http://www.sensingthecity.com/wp-content/themes/twentyfourteen/css/ie.css?ver=20131205' type='text/css' media='all' />
<![endif]-->
<script type='text/javascript' src='http://www.sensingthecity.com/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='http://www.sensingthecity.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/www.sensingthecity.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.sensingthecity.com/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<link rel='https://api.w.org/' href='http://www.sensingthecity.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.sensingthecity.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.sensingthecity.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Illuminate: A Smart Lighting System' href='http://www.sensingthecity.com/illuminate-a-smart-lighting-system/' />
<link rel='next' title='IoTrash' href='http://www.sensingthecity.com/iotrash/' />
<meta name="generator" content="WordPress 4.8.4" />
<link rel="canonical" href="http://www.sensingthecity.com/lit-lane-the-smart-bike-lane/" />
<link rel='shortlink' href='http://www.sensingthecity.com/?p=630' />
<link rel="alternate" type="application/json+oembed" href="http://www.sensingthecity.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.sensingthecity.com%2Flit-lane-the-smart-bike-lane%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://www.sensingthecity.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.sensingthecity.com%2Flit-lane-the-smart-bike-lane%2F&#038;format=xml" />
<style type='text/css'>

#widget-collapscat-2-top span.collapsing.categories {
        border:0;
        padding:0; 
        margin:0; 
        cursor:pointer;
} 

#widget-collapscat-2-top h3 span.sym {float:right;padding:0 .5em}
#widget-collapscat-2-top li.collapsing.categories.self > a {font-weight:bold}
#widget-collapscat-2-top:before {content:'';} 
#widget-collapscat-2-top li.collapsing.categories.expandable:before {content:'';} 
#widget-collapscat-2-top li.collapsing.categories {
  background:none;
  position:relative;
  top:0;
  bottom:0;
  right:0;
  left:0;
}
#widget-collapscat-2-top li.collapsing.categories.expandable {
       list-style:none;
       padding:0 0 0 .9em;
       margin-left:-1em;
       text-indent:-1.1em;
}
#widget-collapscat-2-top li.collapsing.categories.item {
  padding:0;
  text-indent:0;
}

#widget-collapscat-2-top li.collapsing.categories .sym {
   cursor:pointer;
   font-size:1.1em;
   font-family:Arial, Helvetica;
    padding-right:5px;}
</style>
<style id="fourteen-colors" type="text/css">/* Custom Contrast Color */
		.site:before,
		#secondary,
		.site-header,
		.site-footer,
		.menu-toggle,
		.featured-content,
		.featured-content .entry-header,
		.slider-direction-nav a,
		.ie8 .featured-content,
		.ie8 .site:before {
			background-color: #efefef;
		}

		.grid .featured-content .entry-header,
		.ie8 .grid .featured-content .entry-header {
			border-color: #efefef;
		}

		.slider-control-paging a:before {
			background-color: rgba(255,255,255,.33);
		}

		.hentry .mejs-mediaelement,
		.hentry .mejs-container .mejs-controls {
			background: #efefef;
		}
	
			.site-description,
			.secondary-navigation a,
			.widget,
			.widget a,
			.widget-title,
			.widget-title a,
			.widget_calendar caption,
			.site-header a,
			.site-title a,
			.site-title a:hover,
			.menu-toggle:before,
			.site-footer,
			.site-footer a,
			.featured-content a,
			.featured-content .entry-meta,
			.slider-direction-nav a:before,
			.hentry .mejs-container .mejs-controls .mejs-time span,
			.hentry .mejs-controls .mejs-button button {
				color: #2b2b2b;
			}

			@media screen and (min-width: 783px) {
				.primary-navigation ul ul a {
					color: #fff;
				}
			}

			@media screen and (min-width: 1008px) {
				.secondary-navigation ul ul a,
				.secondary-navigation li:hover > a,
				.secondary-navigation li.focus > a {
					color: #fff;
				}
			}

			.widget_calendar tbody a,
			.site-footer .widget_calendar tbody a,
			.slider-direction-nav a:hover:before {
				color: #fff;
			}

			.slider-control-paging a:before {
				background-color: rgba(0, 0, 0, .33);
			}

			.featured-content {
				background-image: url(http://www.sensingthecity.com/wp-content/plugins/fourteen-colors/pattern-dark-inverse.svg);
			}

			.site-navigation li,
			#secondary,
			.secondary-navigation,
			.secondary-navigation li,
			.widget table,
			.widget th,
			.widget td,
			.widget_archive li,
			.widget_categories li,
			.widget_links li,
			.widget_meta li,
			.widget_nav_menu li,
			.widget_pages li,
			.widget_recent_comments li,
			.widget_recent_entries li,
			.widget_categories li ul,
			.widget_nav_menu li ul,
			.widget_pages li ul,
			.widget abbr[title] {
				border-color: rgba(0, 0, 0, .2);
			}

			.widget input,
			.widget textarea {
				background-color: rgba(0, 0, 0, .02);
				border-color: rgba(0, 0, 0, .2);
				color: #000;
			}

			.widget input:focus, .widget textarea:focus {
				border-color: rgba(0, 0, 0, 0.4);
			}

			.widget_twentyfourteen_ephemera .entry-meta a {
				color: rgba(0, 0, 0, 0.7);
			}

			.widget_twentyfourteen_ephemera > ol > li {
				border-bottom-color: rgba(0, 0, 0, 0.2);
			}

			#supplementary + .site-info {
				border-top: 1px solid rgba(0, 0, 0, 0.2);
			}

			.hentry .mejs-controls .mejs-time-rail .mejs-time-total, 
			.hentry .mejs-controls .mejs-horizontal-volume-slider .mejs-horizontal-volume-total {
				background: rgba(0,0,0,.3);
			}

			.hentry .mejs-controls .mejs-horizontal-volume-slider .mejs-horizontal-volume-current {
				background-color: #2b2b2b;
			}

			/* Override the site title color option with an over-qualified selector, as the option is hidden. */
			h1.site-title a {
				color: #2b2b2b;
			}
		
		.menu-toggle:active,
		.menu-toggle:focus,
		.menu-toggle:hover {
			background-color: #ffffff;
		}
		/* Custom accent color. */
		button,
		.button,
		.contributor-posts-link,
		input[type="button"],
		input[type="reset"],
		input[type="submit"],
		.search-toggle,
		.hentry .mejs-controls .mejs-time-rail .mejs-time-current,
		.hentry .mejs-overlay:hover .mejs-overlay-button,
		.widget button,
		.widget .button,
		.widget input[type="button"],
		.widget input[type="reset"],
		.widget input[type="submit"],
		.widget_calendar tbody a,
		.content-sidebar .widget input[type="button"],
		.content-sidebar .widget input[type="reset"],
		.content-sidebar .widget input[type="submit"],
		.slider-control-paging .slider-active:before,
		.slider-control-paging .slider-active:hover:before,
		.slider-direction-nav a:hover,
		.ie8 .primary-navigation ul ul,
		.ie8 .secondary-navigation ul ul,
		.ie8 .primary-navigation li:hover > a,
		.ie8 .primary-navigation li.focus > a,
		.ie8 .secondary-navigation li:hover > a,
		.ie8 .secondary-navigation li.focus > a {
			background-color: #adaca9;
		}

		.site-navigation a:hover {
			color: #adaca9;
		}

		::-moz-selection {
			background: #adaca9;
		}

		::selection {
			background: #adaca9;
		}

		.paging-navigation .page-numbers.current {
			border-color: #adaca9;
		}

		@media screen and (min-width: 782px) {
			.primary-navigation li:hover > a,
			.primary-navigation li.focus > a,
			.primary-navigation ul ul {
				background-color: #adaca9;
			}
		}

		@media screen and (min-width: 1008px) {
			.secondary-navigation li:hover > a,
			.secondary-navigation li.focus > a,
			.secondary-navigation ul ul {
				background-color: #adaca9;
			}
		}
	
			.contributor-posts-link,
			.button,
			button,
			input[type="button"],
			input[type="reset"],
			input[type="submit"],
			.search-toggle:before,
			.hentry .mejs-overlay:hover .mejs-overlay-button,
			.widget button,
			.widget .button,
			.widget input[type="button"],
			.widget input[type="reset"],
			.widget input[type="submit"],
			.widget_calendar tbody a,
			.widget_calendar tbody a:hover,
			.site-footer .widget_calendar tbody a,
			.content-sidebar .widget input[type="button"],
			.content-sidebar .widget input[type="reset"],
			.content-sidebar .widget input[type="submit"],
			button:hover,
			button:focus,
			.button:hover,
			.button:focus,
			.widget a.button:hover,
			.widget a.button:focus,
			.widget a.button:active,
			.content-sidebar .widget a.button,
			.content-sidebar .widget a.button:hover,
			.content-sidebar .widget a.button:focus,
			.content-sidebar .widget a.button:active,
			.contributor-posts-link:hover,
			.contributor-posts-link:active,
			input[type="button"]:hover,
			input[type="button"]:focus,
			input[type="reset"]:hover,
			input[type="reset"]:focus,
			input[type="submit"]:hover,
			input[type="submit"]:focus,
			.slider-direction-nav a:hover:before,
			.ie8 .primary-navigation li:hover > a,
			.ie8 .primary-navigation li.focus > a,
			.ie8 .secondary-navigation li:hover > a,
			.ie8 .secondary-navigation li.focus > a {
				color: #2b2b2b;
			}

			@media screen and (min-width: 782px) {
				.site-navigation li .current_page_item > a,
				.site-navigation li .current_page_ancestor > a,
				.site-navigation li .current-menu-item > a,
				.site-navigation li .current-menu-ancestor > a,
				.primary-navigation ul ul a,
				.primary-navigation li:hover > a,
				.primary-navigation li.focus > a,
				.primary-navigation ul ul {
					color: #2b2b2b;
				}
			}

			@media screen and (min-width: 1008px) {
				.secondary-navigation ul ul a,
				.secondary-navigation li:hover > a,
				.secondary-navigation li.focus > a,
				.secondary-navigation ul ul {
					color: #2b2b2b;
				}
			}

			::selection {
				color: #2b2b2b;
			}

			::-moz-selection {
				color: #2b2b2b;
			}

			.hentry .mejs-controls .mejs-time-rail .mejs-time-loaded {
				background-color: #2b2b2b;
			}

		
		/* Generated variants of custom accent color. */
		a,
		.content-sidebar .widget a {
			color: #767572;
		}

		.contributor-posts-link:hover,
		.button:hover,
		.button:focus,
		.slider-control-paging a:hover:before,
		.search-toggle:hover,
		.search-toggle.active,
		.search-box,
		.widget_calendar tbody a:hover,
		button:hover,
		button:focus,
		input[type="button"]:hover,
		input[type="button"]:focus,
		input[type="reset"]:hover,
		input[type="reset"]:focus,
		input[type="submit"]:hover,
		input[type="submit"]:focus,
		.widget button:hover,
		.widget .button:hover,
		.widget button:focus,
		.widget .button:focus,
		.widget input[type="button"]:hover,
		.widget input[type="button"]:focus,
		.widget input[type="reset"]:hover,
		.widget input[type="reset"]:focus,
		.widget input[type="submit"]:hover,
		.widget input[type="submit"]:focus,
		.content-sidebar .widget input[type="button"]:hover,
		.content-sidebar .widget input[type="button"]:focus,
		.content-sidebar .widget input[type="reset"]:hover,
		.content-sidebar .widget input[type="reset"]:focus,
		.content-sidebar .widget input[type="submit"]:hover,
		.content-sidebar .widget input[type="submit"]:focus,
		.ie8 .primary-navigation ul ul a:hover,
		.ie8 .primary-navigation ul ul li.focus > a,
		.ie8 .secondary-navigation ul ul a:hover,
		.ie8 .secondary-navigation ul ul li.focus > a {
			background-color: #cac9c6;
		}

		.featured-content a:hover,
		.featured-content .entry-title a:hover,
		.widget a:hover,
		.widget-title a:hover,
		.widget_twentyfourteen_ephemera .entry-meta a:hover,
		.hentry .mejs-controls .mejs-button button:hover,
		.site-info a:hover,
		.featured-content a:hover {
			color: #cac9c6;
		}

		a:active,
		a:hover,
		.entry-title a:hover,
		.entry-meta a:hover,
		.cat-links a:hover,
		.entry-content .edit-link a:hover,
		.post-navigation a:hover,
		.image-navigation a:hover,
		.comment-author a:hover,
		.comment-list .pingback a:hover,
		.comment-list .trackback a:hover,
		.comment-metadata a:hover,
		.comment-reply-title small a:hover,
		.content-sidebar .widget a:hover,
		.content-sidebar .widget .widget-title a:hover,
		.content-sidebar .widget_twentyfourteen_ephemera .entry-meta a:hover {
			color: #93928f;
		}

		.page-links a:hover,
		.paging-navigation a:hover {
			border-color: #93928f;
		}

		.entry-meta .tag-links a:hover:before {
			border-right-color: #93928f;
		}

		.page-links a:hover,
		.entry-meta .tag-links a:hover {
			background-color: #93928f;
		}

		@media screen and (min-width: 782px) {
			.primary-navigation ul ul a:hover,
			.primary-navigation ul ul li.focus > a {
				background-color: #cac9c6;
			}
		}

		@media screen and (min-width: 1008px) {
			.secondary-navigation ul ul a:hover,
			.secondary-navigation ul ul li.focus > a {
				background-color: #cac9c6;
			}
		}

		button:active,
		.button:active,
		.contributor-posts-link:active,
		input[type="button"]:active,
		input[type="reset"]:active,
		input[type="submit"]:active,
		.widget input[type="button"]:active,
		.widget input[type="reset"]:active,
		.widget input[type="submit"]:active,
		.content-sidebar .widget input[type="button"]:active,
		.content-sidebar .widget input[type="reset"]:active,
		.content-sidebar .widget input[type="submit"]:active {
			background-color: #deddda;
		}

		.site-navigation .current_page_item > a,
		.site-navigation .current_page_ancestor > a,
		.site-navigation .current-menu-item > a,
		.site-navigation .current-menu-ancestor > a {
			color: #deddda;
		}
	
		/* Higher contrast Accent Color against contrast color */
		.site-navigation .current_page_item > a,
		.site-navigation .current_page_ancestor > a,
		.site-navigation .current-menu-item > a,
		.site-navigation .current-menu-ancestor > a,
		.site-navigation a:hover,
		.featured-content a:hover,
		.featured-content .entry-title a:hover,
		.widget a:hover,
		.widget-title a:hover,
		.widget_twentyfourteen_ephemera .entry-meta a:hover,
		.hentry .mejs-controls .mejs-button button:hover,
		.site-info a:hover,
		.featured-content a:hover {
			color: #858481;
		}

		.hentry .mejs-controls .mejs-time-rail .mejs-time-current,
		.slider-control-paging a:hover:before,
		.slider-control-paging .slider-active:before,
		.slider-control-paging .slider-active:hover:before {
			background-color: #858481;
		}
	</style>    <style>.site {margin: 0 auto;max-width: px;width: 100%;}.site-header{max-width: px;}
		@media screen and (min-width: 1110px) {.archive-header,.comments-area,.image-navigation,.page-header,.page-content,.post-navigation,.site-content .entry-header,
	    .site-content .entry-content,.site-content .entry-summary,.site-content footer.entry-meta{padding-left: 55px;}}</style>
    <style>
	    .site-content .entry-header,.site-content .entry-content,.site-content .entry-summary,.site-content .entry-meta,.page-content 
		{max-width: 680px;}.comments-area{max-width: 680px;}.post-navigation, .image-navigation{max-width: 680px;}</style>
    <style>.hentry{max-width: 1038px;}
	    img.size-full,img.size-large,.wp-post-image,.post-thumbnail img,.site-content .post-thumbnail img{max-height: px;}
	</style>
	
<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #efefef; }
</style>
<!-- BEGIN GADWP v5.1.2.5 Universal Analytics - https://deconf.com/google-analytics-dashboard-wordpress/ -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-48133927-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- END GADWP Universal Analytics -->
</head>

<body class="post-template-default single single-post postid-630 single-format-standard custom-background group-blog masthead-fixed full-width singular">
<div id="page" class="hfeed site">
	
	<header id="masthead" class="site-header" role="banner">
		<div class="header-main">
			<h1 class="site-title"><a href="http://www.sensingthecity.com/" rel="home">SENSING THE CITY</a></h1>

			<div class="search-toggle">
				<a href="#search-container" class="screen-reader-text" aria-expanded="false" aria-controls="search-container">Search</a>
			</div>

			<nav id="primary-navigation" class="site-navigation primary-navigation" role="navigation">
				<button class="menu-toggle">Primary Menu</button>
				<a class="screen-reader-text skip-link" href="#content">Skip to content</a>
				<div class="menu-menu-container"><ul id="primary-menu" class="nav-menu"><li id="menu-item-25" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-25"><a href="http://www.sensingthecity.com/about/">ABOUT</a></li>
</ul></div>			</nav>
		</div>

		<div id="search-container" class="search-box-wrapper hide">
			<div class="search-box">
				<form role="search" method="get" class="search-form" action="http://www.sensingthecity.com/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form>			</div>
		</div>
	</header><!-- #masthead -->

	<div id="main" class="site-main">

	<div id="primary" class="content-area">
		<div id="content" class="site-content" role="main">
			
<article id="post-630" class="post-630 post type-post status-publish format-standard hentry category-projects">
	
	<header class="entry-header">
				<div class="entry-meta">
			<span class="cat-links"><a href="http://www.sensingthecity.com/category/projects/" rel="category tag">PROJECTS</a></span>
		</div>
		<h1 class="entry-title">Lit-Lane: The Smart Bike Lane</h1>
		<div class="entry-meta">
			<span class="entry-date"><a href="http://www.sensingthecity.com/lit-lane-the-smart-bike-lane/" rel="bookmark"><time class="entry-date" datetime="2017-12-15T14:00:33+00:00">December 15, 2017</time></a></span> <span class="byline"><span class="author vcard"><a class="url fn n" href="http://www.sensingthecity.com/author/guyduer/" rel="author">Guy Duer</a></span></span>			<span class="comments-link"><a href="http://www.sensingthecity.com/lit-lane-the-smart-bike-lane/#respond">Leave a comment</a></span>
					</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

		<div class="entry-content">
		<p><img class="alignnone size-full wp-image-683" src="http://www.sensingthecity.com/wp-content/uploads/2017/12/Animation-1.gif" alt="" width="1000" height="50" /></p>
<p>Earlier this year, the City of Philadelphia released its <a href="http://www.visionzerophl.com/">Vision Zero Action Plan</a>. This ambitious plan aims to reduce traffic deaths in Philadelphia to zero by 2030, and is the major motivation behind our design.</p>
<p>The plan outlines four major goals:</p>
<p><img class="size-full wp-image-631 aligncenter" src="http://www.sensingthecity.com/wp-content/uploads/2017/12/goals.png" alt="" width="1540" height="1020" srcset="http://www.sensingthecity.com/wp-content/uploads/2017/12/goals.png 1540w, http://www.sensingthecity.com/wp-content/uploads/2017/12/goals-300x199.png 300w, http://www.sensingthecity.com/wp-content/uploads/2017/12/goals-768x509.png 768w, http://www.sensingthecity.com/wp-content/uploads/2017/12/goals-1024x678.png 1024w" sizes="(max-width: 1540px) 100vw, 1540px" /></p>
<p>We believe that the Lit-Lane design and concept can be a powerful tool in achieving all four goals.</p>
<h3>The Problem: bike network is incomplete and misused</h3>
<p>&nbsp;</p>
<p><img class="wp-image-635 alignleft" src="http://www.sensingthecity.com/wp-content/uploads/2017/12/carinbikelane.jpg" alt="" width="298" height="224" srcset="http://www.sensingthecity.com/wp-content/uploads/2017/12/carinbikelane.jpg 528w, http://www.sensingthecity.com/wp-content/uploads/2017/12/carinbikelane-300x225.jpg 300w" sizes="(max-width: 298px) 100vw, 298px" /></p>
<p>Even in bike lanes, bikers are often an afterthought. Cars, trucks, and buses regularly drive, stop and turn (and open their doors) into bike lanes, which deters people from biking and jeopardizes the safety of cyclists.</p>
<p>This issue is especially prevalent in Philadelphia, which has one of the highest rates of biking deaths per capita in the U.S, with higher rates than Boston, NYC, and LA. It is also important to note that biking accidents are very localized to specific streets- just 12% of Philadelphia Streets account for 50% of serious injuries or fatalities.</p>
<p>It&#8217;s time to take action:</p>
<p><strong><em>If planners really want to promote biking and reduce deaths, we need to get serious about improving safety and making roads work for bikers.</em></strong></p>
<h3>The Solution: Enter Lit-Lane!</h3>
<p>The aim of our design is to:</p>
<ul>
<li>Make bikers more visible and noticeable</li>
<li>Reduce obstacles in bike lanes</li>
<li>Make biking more beautiful and fun</li>
<li>Create a psychological shift to reclaim the bike lane</li>
<li>Be adaptive to different street typologies and preferences</li>
</ul>
<p>Lit-Lane uses a combination of sensors (more on this later) to sense and react to the conditions on the bike lane. When Lit-Lane senses bikers, it surrounds them with beautiful white lights that lead in front of them and make them more visible to cars ahead. When Lit-Lane senses cars, it reacts with blinking lights which change from yellow to red, to notify the drivers that they must vacate the lane.</p>
<p><img class="size-full wp-image-637 aligncenter" src="http://www.sensingthecity.com/wp-content/uploads/2017/12/Reactions.png" alt="" width="2611" height="1336" srcset="http://www.sensingthecity.com/wp-content/uploads/2017/12/Reactions.png 2611w, http://www.sensingthecity.com/wp-content/uploads/2017/12/Reactions-300x154.png 300w, http://www.sensingthecity.com/wp-content/uploads/2017/12/Reactions-768x393.png 768w, http://www.sensingthecity.com/wp-content/uploads/2017/12/Reactions-1024x524.png 1024w" sizes="(max-width: 2611px) 100vw, 2611px" /></p>
<h5>Lit-Lane is better than the traditional alternatives</h5>
<ul>
<li><strong>Painted buffers:</strong> low protection, low night protection</li>
<li><strong>Delineator posts:</strong> unattractive, obstructive, not durable</li>
<li><strong>Bumps/Ballards:</strong> unattractive,  can cause damage, prohibitive</li>
<li><strong>Parked cars:</strong> space inefficient, potential to get doored</li>
<li><strong>Cast curbs or planters:</strong> space inefficient, very expensive</li>
</ul>
<p>Instead, Lit-Lane:</p>
<ul>
<li>Achieves safety goals</li>
<li>Creates no physical barriers</li>
<li>Is more space efficient</li>
<li>Actively discourages bad behavior</li>
<li>Is beautiful, and creates an attraction that promotes biking and active transport</li>
</ul>
<h5><strong>Lit-Lane I/O</strong></h5>
<p>Sensory Inputs-</p>
<ul>
<li><strong>Weight sensors:</strong> Classify vehicle as bicycle or car</li>
<li><strong>Ultrasonic distance sensors:</strong> Detect the location of vehicles</li>
</ul>
<p>Reaction-</p>
<ul>
<li><strong>LED Strips:</strong> White light surrounds moving cyclists. Yellow light signals a warning when cars crosses lane. Red light signals when car hasn’t moved.</li>
<li><strong>Sound Buzzer:</strong> Warns cars to move out of bike lane</li>
</ul>
<p>The diagram below shows how the sensory inputs are processed and used to illicit a response.</p>
<p><img class="alignnone wp-image-644 size-full" src="http://www.sensingthecity.com/wp-content/uploads/2017/12/DataClassification-1.png" alt="" width="2693" height="1272" srcset="http://www.sensingthecity.com/wp-content/uploads/2017/12/DataClassification-1.png 2693w, http://www.sensingthecity.com/wp-content/uploads/2017/12/DataClassification-1-300x142.png 300w, http://www.sensingthecity.com/wp-content/uploads/2017/12/DataClassification-1-768x363.png 768w, http://www.sensingthecity.com/wp-content/uploads/2017/12/DataClassification-1-1024x484.png 1024w" sizes="(max-width: 2693px) 100vw, 2693px" /></p>
<p>&nbsp;</p>
<h3>So, How Does It Work?</h3>
<p>To demonstrate our concept, we created a prototype using an Arduino board and some off-the-shelf sensors. The prototype really brings the idea to life! We put together a short video to show the end results (disclaimer: video was not sponsored by diet coke&#8230;).</p>
<p><iframe width="474" height="267" src="https://www.youtube.com/embed/8csbobFDag4?feature=oembed" frameborder="0" gesture="media" allow="encrypted-media" allowfullscreen></iframe></p>
<p>Note that the sensor bump in the middle of the lane is not to scale. In reality, the sensor will remain very small while the lane would be&#8230; well&#8230; life sized.</p>
<p>Here are the nuts and bolts of how we put together the prototype:</p>
<h5><img class="size-full wp-image-645 aligncenter" src="http://www.sensingthecity.com/wp-content/uploads/2017/12/Prototype_Small.png" alt="" width="2085" height="1404" srcset="http://www.sensingthecity.com/wp-content/uploads/2017/12/Prototype_Small.png 2085w, http://www.sensingthecity.com/wp-content/uploads/2017/12/Prototype_Small-300x202.png 300w, http://www.sensingthecity.com/wp-content/uploads/2017/12/Prototype_Small-768x517.png 768w, http://www.sensingthecity.com/wp-content/uploads/2017/12/Prototype_Small-1024x690.png 1024w" sizes="(max-width: 2085px) 100vw, 2085px" /></h5>
<h3>Making It A Reality</h3>
<p>We wanted to imagine what Lit-Lane would look like in the real world.  To do this, we picked a location we think would be ideal for this type of project: Broad Street.</p>
<p>We picked a section of Broad Street that is specifically identified in the Vision Zero Plan as being high risk for bikers.</p>
<p>This is a map of bike accident hot spots in Philadelphia:<img class="size-full wp-image-662 aligncenter" src="http://www.sensingthecity.com/wp-content/uploads/2017/12/Location.png" alt="" width="2239" height="1234" srcset="http://www.sensingthecity.com/wp-content/uploads/2017/12/Location.png 2239w, http://www.sensingthecity.com/wp-content/uploads/2017/12/Location-300x165.png 300w, http://www.sensingthecity.com/wp-content/uploads/2017/12/Location-768x423.png 768w, http://www.sensingthecity.com/wp-content/uploads/2017/12/Location-1024x564.png 1024w" sizes="(max-width: 2239px) 100vw, 2239px" /></p>
<p>In addition to being a high risk street section, we believe this part of Broad Street will be ideal because of the high-profile nature of the street design. The lights and sounds produced by Lit-Lane will likely be best received in streets that are already bright and loud. However, like we mentioned earlier in the post, it will be very easy to adapt the settings of Lit-Lane to fit different street typologies. Streets that are residential/quiet can have little to no noise response and lights that are programmed to be less disruptive to residents. Additionally, we believe main commercial streets are ideal because the spectacle and attraction that Lit-Lane creates has the potential of increasing tourism and economic activity. This will help garner the support of the business community downtown.</p>
<p>Before + After mockups help imagine what could be:</p>
<p><img class="alignnone wp-image-673 size-full" src="http://www.sensingthecity.com/wp-content/uploads/2017/12/renders-1.png" alt="" width="2509" height="1039" srcset="http://www.sensingthecity.com/wp-content/uploads/2017/12/renders-1.png 2509w, http://www.sensingthecity.com/wp-content/uploads/2017/12/renders-1-300x124.png 300w, http://www.sensingthecity.com/wp-content/uploads/2017/12/renders-1-768x318.png 768w, http://www.sensingthecity.com/wp-content/uploads/2017/12/renders-1-1024x424.png 1024w" sizes="(max-width: 2509px) 100vw, 2509px" /></p>
<p>&nbsp;</p>
<h3>Dealing With Costs</h3>
<p>Determining cost is currently tricky with Lit-Lane. While less so than some alternatives, our prototype is still somewhat expensive, due to the nature of the weight sensors needing to be in the ground. However, newer iterations of the project can be adapted to reduce this cost.</p>
<p>This being the first iteration of the design, we believe that large potential exists for reducing costs in future designs. Reworking the sensor configuration such that installation/maintenance will not require digging up the street will drive the costs down dramatically. Many technologies ranging from low-end (such as on-bike sensors) to high-end (such as machine vision) could be used to achieve this goal in the future.</p>
<p>&nbsp;</p>
<h3>Thank you!</h3>
<p>Thank you so much for reading, and happy biking!</p>
<p>&nbsp;</p>
<p>Guy Duer, Rachael Hartofelis, and Boao Xia</p>
<p>CPLN571, Prof. Allison Lassiter, University of Pennsylvania</p>
<p>December 2017</p>
<p>&nbsp;</p>
<h3>Appendix: Prototype Code</h3>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a4c1d3fead27133977960" class="crayon-syntax crayon-theme-arduino-ide crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Lit-Lane Code</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Arduino</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
/*This code operates a smart bike lane prototype for CPLN571 course at UPenn. With this code, the bike lane can tell 
 *where the location of a biker is and shine lights to protect the biker. The lane activates when the weight sensors sense the weight
 *of a bike. When the weight is too high (indicating a car/bus), the bike lane blinks yellow and after a few seconds blinks red and plays
 *an alarm. This is to notify the car to clear the bikelane.  */


#include &lt;Time.h&gt;
#include &lt;TimeLib.h&gt;
#include &lt;FastLED.h&gt;
#include &lt;NewPing.h&gt;
#include &lt;HX711.h&gt;
#include &lt;NewTone.h&gt;

//inititate settings
#define NUM_LEDS 80 
const int ledLength = 10; 
#define MAX_DISTANCE 80 
float bikeweight = 0.06;
float carweight = 1;
float blinkmax = 30;
int blinkspeed = 350;

//initiate pins
#define LED_PIN 5
#define LED_PIN2 4
#define TRIGGER_PIN  7
#define ECHO_PIN     8
#define TRIGGER_PIN2  11
#define ECHO_PIN2     12
#define buzzerPin     13
#define DOUT  3
#define CLK  2
#define DOUT2  10
#define CLK2  9

//initiate global variables
long distance1, distance2;
long distance1a, distance1b, distance1c, distance2a, distance2b, distance2c, distance1d, distance2d;
float weight1, weight1a, weight1b, weight1c;
float weight2, weight2a, weight2b, weight2c;
float blinkcount1, blinkcount2 = 0;
long previousMillis = 0;   
int ledValue1, ledValue2; 
int sensorValue;
int dimCount; 
int DimArray[10] = {240,210,150,100,0,0,100,150,210,240};

//initiate components
CRGB leds[NUM_LEDS];
CRGB leds2[NUM_LEDS];

HX711 scale(DOUT, CLK);
HX711 scale2(DOUT2, CLK2);
float calibration_factor = -7050; //-7050 worked for my 440lb max scale setup

NewPing sonar1(TRIGGER_PIN, ECHO_PIN, MAX_DISTANCE);
NewPing sonar2(TRIGGER_PIN2, ECHO_PIN2, MAX_DISTANCE);


void setup() {
  //set up components
  FastLED.addLeds&lt;WS2811, LED_PIN&gt;(leds, NUM_LEDS).setCorrection( TypicalLEDStrip );
  FastLED.addLeds&lt;WS2811, LED_PIN2&gt;(leds2, NUM_LEDS).setCorrection( TypicalLEDStrip );
  
  pinMode(TRIGGER_PIN, OUTPUT);
  pinMode(ECHO_PIN, INPUT);

  scale.set_scale();
  scale.tare();

  scale2.set_scale();
  scale2.tare();

  long zero_factor = scale.read_average(100); //Get a baseline reading
  long zero_factor2 = scale2.read_average(100); //Get a baseline reading
  
}

void loop() {
    //obtain and smooth distance from distance sensor 1
    distance1d = distance1c;
    distance1c = distance1b;
    distance1b = distance1a;
    distance1a = sonar1.ping_cm();
    distance1 = (distance1a + distance1b + distance1c)/3;

    //obtain and smooth distance from distance sensor 2
    distance2d = distance2c;
    distance2c = distance2b;
    distance2b = distance2a;
    distance2a = sonar2.ping_cm();
    distance2 = (distance2a + distance2b + distance2c)/3;

    //obtain and smooth weight from load sensor 1
    scale.set_scale(calibration_factor); //Adjust to this calibration factor
    weight1a = weight1b;
    weight1b = weight1c;
    weight1c = scale.get_units();
    weight1 = (weight1a + weight1b + weight1c)/3;

    //obtain and smooth weight from load sensor 2
    scale2.set_scale(calibration_factor); //Adjust to this calibration factor
    weight2a = weight2b;
    weight2b = weight2c;
    weight2c = scale2.get_units();
    weight2 = (weight2a + weight2b + weight2c)/3;
    
    //Map distance values to reflect correct location on the LED strips
    ledValue1 = map(distance1, 0, 55, 0, 35);
    ledValue1 = abs(ledValue1 - 35);
    
    ledValue2 = map(distance2, 0, 55, 42, 70);
    
  
    //Clear past LED configuration and reset fade index
    FastLED.clear();
    dimCount = 0;
    
    
    //configure lights in first section of LED strip depending on weight and times blinked
    if(weight1 &gt; bikeweight){

      //condition for yellow lights
      if(weight1 &gt;= carweight &amp;&amp; blinkcount1 &lt; blinkmax){

          //start time to configure yellow lights blinking 
          unsigned long currentMillis = millis();

          //turn yellow lights on when millis is between blink interval
          if((currentMillis - previousMillis &gt;= blinkspeed) &amp;&amp; (currentMillis - previousMillis &lt; (blinkspeed*2))){
            for(int led = ledValue1-3; led &lt; ledValue1+7; led++) { 
              leds[led] = CRGB(100,255,0); 
              leds[led].fadeToBlackBy(DimArray[dimCount]);
              leds2[led + 1] = CRGB(100,255,0); 
              leds2[led + 1].fadeToBlackBy(DimArray[dimCount]);
              dimCount = dimCount + 1;}
              
              blinkcount1 = blinkcount1 + 1;}

          //turn lights off when millis is smaller then blink interval
          else if(currentMillis - previousMillis &lt; blinkspeed){
            for(int led = ledValue1-3; led &lt; ledValue1+7; led++) { 
              leds[led] = CRGB::Black; 
              leds2[led + 1] = CRGB::Black;} 
              } 

          //When greater than blink interval, reset millis 
          else{
              previousMillis = currentMillis;
              }}

       //condition for red lights
       else if(weight1 &gt;= carweight &amp;&amp; blinkcount1 &gt;= blinkmax){
          //start time to configure red lights blinking 
          unsigned long currentMillis = millis();
          if((currentMillis - previousMillis &gt;= blinkspeed) &amp;&amp; (currentMillis - previousMillis &lt; (blinkspeed*2))){
            for(int led = ledValue1-3; led &lt; ledValue1+7; led++) { 

              //unlike the yellow lights, red lights include a sound response 
              NewTone(buzzerPin, 523, 100);
              
              leds[led] = CRGB(0,255,0); 
              leds[led].fadeToBlackBy(DimArray[dimCount]);
              leds2[led + 1] = CRGB(0,255,0); 
              leds2[led + 1].fadeToBlackBy(DimArray[dimCount]);
              dimCount = dimCount + 1;}
              dimCount = 0;
              }
              
           else if(currentMillis - previousMillis &lt; blinkspeed){
             for(int led = ledValue1-3; led &lt; ledValue1+7; led++) { 
              leds[led] = CRGB::Black; 
              leds2[led + 1] = CRGB::Black;} 
              } 
           else{
              previousMillis = currentMillis;
              }}
            

        else{
          for(int led = ledValue1-3; led &lt; ledValue1+7; led++) { 
            leds[led] = CRGB::White; 
            leds[led].fadeToBlackBy(DimArray[dimCount]);
            leds2[led + 1] = CRGB::White; 
            leds2[led + 1].fadeToBlackBy(DimArray[dimCount]);
            dimCount = dimCount + 1;
            blinkcount1 = 0;}}
          }

     //reset dim index in preparation for activating the second portion of the LED strip (the same way as the first) 
     dimCount = 0;
     
     if(weight2 &gt;= bikeweight){
        if(weight2 &gt;= carweight &amp;&amp; blinkcount2 &lt; blinkmax){
          unsigned long currentMillis = millis();
          if((currentMillis - previousMillis &gt;= blinkspeed) &amp;&amp; (currentMillis - previousMillis &lt; (blinkspeed*2))){
            for(int led = ledValue2-3; led &lt; ledValue2+7; led++) { 
              leds[led] = CRGB(100,255,0); 
              leds[led].fadeToBlackBy(DimArray[dimCount]);
              leds2[led + 1] = CRGB(100,255,0); 
              leds2[led + 1].fadeToBlackBy(DimArray[dimCount]);
              dimCount = dimCount + 1;}
              
              blinkcount2 = blinkcount2 + 1;}
          else if(currentMillis - previousMillis &lt; blinkspeed){
            for(int led = ledValue2-3; led &lt; ledValue2+7; led++) { 
              leds[led] = CRGB::Black; 
              leds2[led + 1] = CRGB::Black;} 
              }
          else{
              previousMillis = currentMillis;
              }}
              
        else if(weight2 &gt;= carweight &amp;&amp; blinkcount2 &gt;= blinkmax){
          unsigned long currentMillis = millis();
          if((currentMillis - previousMillis &gt;= blinkspeed) &amp;&amp; (currentMillis - previousMillis &lt; (blinkspeed*2))){
            for(int led = ledValue2-3; led &lt; ledValue2+7; led++) {
              NewTone(buzzerPin, 523, 100); 
              leds[led] = CRGB(0,255,0); 
              leds[led].fadeToBlackBy(DimArray[dimCount]);
              leds2[led + 1] = CRGB(0,255,0); 
              leds2[led + 1].fadeToBlackBy(DimArray[dimCount]);
              dimCount = dimCount + 1;}
              dimCount = 0;
              }//Think about changing the location of this to stop the flickering.
          else if(currentMillis - previousMillis &lt; blinkspeed){
            for(int led = ledValue2-3; led &lt; ledValue2+7; led++) { 
              leds[led] = CRGB::Black; 
              leds2[led + 1] = CRGB::Black;} 
              }//Think about changing the location of this to stop the flickering. 
          else{
              previousMillis = currentMillis;
              }}
              
        else{
          for(int led = ledValue2-3; led &lt; ledValue2+7; led++) { 
            leds[led] = CRGB::White; 
            leds[led].fadeToBlackBy(DimArray[dimCount]);
            leds2[led + 1] = CRGB::White; 
            leds2[led + 1].fadeToBlackBy(DimArray[dimCount]);
            dimCount = dimCount + 1;
            blinkcount2 = 0;}}
     }

    
FastLED.show();

}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-2">2</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-4">4</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-6">6</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-8">8</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-10">10</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-12">12</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-14">14</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-16">16</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-18">18</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-20">20</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-22">22</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-24">24</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-26">26</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-28">28</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-30">30</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-32">32</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-34">34</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-36">36</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-38">38</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-40">40</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-42">42</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-44">44</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-46">46</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-48">48</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-50">50</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-52">52</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-54">54</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-56">56</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-58">58</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-60">60</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-62">62</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-64">64</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-66">66</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-68">68</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-70">70</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-72">72</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-74">74</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-76">76</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-78">78</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-80">80</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-82">82</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-84">84</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-86">86</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-88">88</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-90">90</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-92">92</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-94">94</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-96">96</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-98">98</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-100">100</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-102">102</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-104">104</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-106">106</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-108">108</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-110">110</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-112">112</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-114">114</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-116">116</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-118">118</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-120">120</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-122">122</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-124">124</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-125">125</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-126">126</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-127">127</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-128">128</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-129">129</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-130">130</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-131">131</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-132">132</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-133">133</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-134">134</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-135">135</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-136">136</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-137">137</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-138">138</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-139">139</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-140">140</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-141">141</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-142">142</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-143">143</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-144">144</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-145">145</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-146">146</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-147">147</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-148">148</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-149">149</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-150">150</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-151">151</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-152">152</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-153">153</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-154">154</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-155">155</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-156">156</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-157">157</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-158">158</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-159">159</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-160">160</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-161">161</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-162">162</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-163">163</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-164">164</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-165">165</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-166">166</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-167">167</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-168">168</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-169">169</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-170">170</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-171">171</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-172">172</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-173">173</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-174">174</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-175">175</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-176">176</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-177">177</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-178">178</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-179">179</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-180">180</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-181">181</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-182">182</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-183">183</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-184">184</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-185">185</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-186">186</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-187">187</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-188">188</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-189">189</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-190">190</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-191">191</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-192">192</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-193">193</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-194">194</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-195">195</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-196">196</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-197">197</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-198">198</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-199">199</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-200">200</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-201">201</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-202">202</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-203">203</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-204">204</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-205">205</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-206">206</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-207">207</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-208">208</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-209">209</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-210">210</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-211">211</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-212">212</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-213">213</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-214">214</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-215">215</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-216">216</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-217">217</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-218">218</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-219">219</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-220">220</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-221">221</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-222">222</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-223">223</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-224">224</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-225">225</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-226">226</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-227">227</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-228">228</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-229">229</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-230">230</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-231">231</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-232">232</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-233">233</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-234">234</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-235">235</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-236">236</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-237">237</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-238">238</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-239">239</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-240">240</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-241">241</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-242">242</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-243">243</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-244">244</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-245">245</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-246">246</div><div class="crayon-num" data-line="crayon-5a4c1d3fead27133977960-247">247</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a4c1d3fead27133977960-248">248</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-1"><span class="crayon-c">/*This code operates a smart bike lane prototype for CPLN571 course at UPenn. With this code, the bike lane can tell </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-2"><span class="crayon-c"> *where the location of a biker is and shine lights to protect the biker. The lane activates when the weight sensors sense the weight</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-3"><span class="crayon-c"> *of a bike. When the weight is too high (indicating a car/bus), the bike lane blinks yellow and after a few seconds blinks red and plays</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-4"><span class="crayon-c"> *an alarm. This is to notify the car to clear the bikelane.&nbsp;&nbsp;*/</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-6">&nbsp;</div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-7"><span class="crayon-p">#include &lt;Time.h&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-8"><span class="crayon-p">#include &lt;TimeLib.h&gt;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-9"><span class="crayon-p">#include &lt;FastLED.h&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-10"><span class="crayon-p">#include &lt;NewPing.h&gt;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-11"><span class="crayon-p">#include &lt;HX711.h&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-12"><span class="crayon-p">#include &lt;NewTone.h&gt;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-14"><span class="crayon-c">//inititate settings</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-15"><span class="crayon-p">#define NUM_LEDS 80 </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-16"><span class="crayon-r">const</span><span class="crayon-h"> </span><span class="crayon-r">int</span><span class="crayon-h"> </span><span class="crayon-v">ledLength</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-17"><span class="crayon-p">#define MAX_DISTANCE 80 </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-18"><span class="crayon-r">float</span><span class="crayon-h"> </span><span class="crayon-v">bikeweight</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0.06</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-19"><span class="crayon-r">float</span><span class="crayon-h"> </span><span class="crayon-v">carweight</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-20"><span class="crayon-r">float</span><span class="crayon-h"> </span><span class="crayon-v">blinkmax</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">30</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-21"><span class="crayon-r">int</span><span class="crayon-h"> </span><span class="crayon-v">blinkspeed</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">350</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-22">&nbsp;</div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-23"><span class="crayon-c">//initiate pins</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-24"><span class="crayon-p">#define LED_PIN 5</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-25"><span class="crayon-p">#define LED_PIN2 4</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-26"><span class="crayon-p">#define TRIGGER_PIN&nbsp;&nbsp;7</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-27"><span class="crayon-p">#define ECHO_PIN&nbsp;&nbsp;&nbsp;&nbsp; 8</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-28"><span class="crayon-p">#define TRIGGER_PIN2&nbsp;&nbsp;11</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-29"><span class="crayon-p">#define ECHO_PIN2&nbsp;&nbsp;&nbsp;&nbsp; 12</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-30"><span class="crayon-p">#define buzzerPin&nbsp;&nbsp;&nbsp;&nbsp; 13</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-31"><span class="crayon-p">#define DOUT&nbsp;&nbsp;3</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-32"><span class="crayon-p">#define CLK&nbsp;&nbsp;2</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-33"><span class="crayon-p">#define DOUT2&nbsp;&nbsp;10</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-34"><span class="crayon-p">#define CLK2&nbsp;&nbsp;9</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-36"><span class="crayon-c">//initiate global variables</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-37"><span class="crayon-r">long</span><span class="crayon-h"> </span><span class="crayon-v">distance1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">distance2</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-38"><span class="crayon-r">long</span><span class="crayon-h"> </span><span class="crayon-v">distance1a</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">distance1b</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">distance1c</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">distance2a</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">distance2b</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">distance2c</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">distance1d</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">distance2d</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-39"><span class="crayon-r">float</span><span class="crayon-h"> </span><span class="crayon-v">weight1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">weight1a</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">weight1b</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">weight1c</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-40"><span class="crayon-r">float</span><span class="crayon-h"> </span><span class="crayon-v">weight2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">weight2a</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">weight2b</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">weight2c</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-41"><span class="crayon-r">float</span><span class="crayon-h"> </span><span class="crayon-v">blinkcount1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">blinkcount2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-42"><span class="crayon-r">long</span><span class="crayon-h"> </span><span class="crayon-v">previousMillis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-43"><span class="crayon-r">int</span><span class="crayon-h"> </span><span class="crayon-v">ledValue1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ledValue2</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-44"><span class="crayon-r">int</span><span class="crayon-h"> </span><span class="crayon-v">sensorValue</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-45"><span class="crayon-r">int</span><span class="crayon-h"> </span><span class="crayon-v">dimCount</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-46"><span class="crayon-r">int</span><span class="crayon-h"> </span><span class="crayon-v">DimArray</span><span class="crayon-sy">[</span><span class="crayon-cn">10</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-cn">240</span><span class="crayon-sy">,</span><span class="crayon-cn">210</span><span class="crayon-sy">,</span><span class="crayon-cn">150</span><span class="crayon-sy">,</span><span class="crayon-cn">100</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">100</span><span class="crayon-sy">,</span><span class="crayon-cn">150</span><span class="crayon-sy">,</span><span class="crayon-cn">210</span><span class="crayon-sy">,</span><span class="crayon-cn">240</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-47">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-48"><span class="crayon-c">//initiate components</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-49"><span class="crayon-cn">CRGB</span><span class="crayon-h"> </span><span class="crayon-v">leds</span><span class="crayon-sy">[</span><span class="crayon-v">NUM_LEDS</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-50"><span class="crayon-cn">CRGB</span><span class="crayon-h"> </span><span class="crayon-v">leds2</span><span class="crayon-sy">[</span><span class="crayon-v">NUM_LEDS</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-51">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-52"><span class="crayon-i">HX711</span><span class="crayon-h"> </span><span class="crayon-v">scale</span><span class="crayon-sy">(</span><span class="crayon-v">DOUT</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">CLK</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-53"><span class="crayon-i">HX711</span><span class="crayon-h"> </span><span class="crayon-v">scale2</span><span class="crayon-sy">(</span><span class="crayon-v">DOUT2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">CLK2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-54"><span class="crayon-r">float</span><span class="crayon-h"> </span><span class="crayon-v">calibration_factor</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">7050</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//-7050 worked for my 440lb max scale setup</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-55">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-56"><span class="crayon-i">NewPing</span><span class="crayon-h"> </span><span class="crayon-v">sonar1</span><span class="crayon-sy">(</span><span class="crayon-v">TRIGGER_PIN</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ECHO_PIN</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">MAX_DISTANCE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-57"><span class="crayon-i">NewPing</span><span class="crayon-h"> </span><span class="crayon-v">sonar2</span><span class="crayon-sy">(</span><span class="crayon-v">TRIGGER_PIN2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ECHO_PIN2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">MAX_DISTANCE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-58">&nbsp;</div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-59">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-60"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-st">setup</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-61"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//set up components</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-62"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">FastLED</span><span class="crayon-sy">.</span><span class="crayon-v">addLeds</span><span class="crayon-o">&lt;</span><span class="crayon-v">WS2811</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">LED_PIN</span><span class="crayon-o">&gt;</span><span class="crayon-sy">(</span><span class="crayon-v">leds</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">NUM_LEDS</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">setCorrection</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-i">TypicalLEDStrip</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-63"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">FastLED</span><span class="crayon-sy">.</span><span class="crayon-v">addLeds</span><span class="crayon-o">&lt;</span><span class="crayon-v">WS2811</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">LED_PIN2</span><span class="crayon-o">&gt;</span><span class="crayon-sy">(</span><span class="crayon-v">leds2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">NUM_LEDS</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">setCorrection</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-i">TypicalLEDStrip</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-64"><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-65"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">pinMode</span><span class="crayon-sy">(</span><span class="crayon-v">TRIGGER_PIN</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-k">OUTPUT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-66"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">pinMode</span><span class="crayon-sy">(</span><span class="crayon-v">ECHO_PIN</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-k">INPUT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-67">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-68"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">scale</span><span class="crayon-sy">.</span><span class="crayon-v">set_scale</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-69"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">scale</span><span class="crayon-sy">.</span><span class="crayon-v">tare</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-70">&nbsp;</div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-71"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">scale2</span><span class="crayon-sy">.</span><span class="crayon-v">set_scale</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-72"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">scale2</span><span class="crayon-sy">.</span><span class="crayon-v">tare</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-73">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-74"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-r">long</span><span class="crayon-h"> </span><span class="crayon-v">zero_factor</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">scale</span><span class="crayon-sy">.</span><span class="crayon-v">read_average</span><span class="crayon-sy">(</span><span class="crayon-cn">100</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//Get a baseline reading</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-75"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-r">long</span><span class="crayon-h"> </span><span class="crayon-v">zero_factor2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">scale2</span><span class="crayon-sy">.</span><span class="crayon-v">read_average</span><span class="crayon-sy">(</span><span class="crayon-cn">100</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//Get a baseline reading</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-76"><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-77"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-78">&nbsp;</div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-79"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-st">loop</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-80"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//obtain and smooth distance from distance sensor 1</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-81"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">distance1d</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">distance1c</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-82"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">distance1c</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">distance1b</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-83"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">distance1b</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">distance1a</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-84"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">distance1a</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">sonar1</span><span class="crayon-sy">.</span><span class="crayon-v">ping_cm</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">distance1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">distance1a</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">distance1b</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">distance1c</span><span class="crayon-sy">)</span><span class="crayon-o">/</span><span class="crayon-cn">3</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-86">&nbsp;</div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-87"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//obtain and smooth distance from distance sensor 2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-88"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">distance2d</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">distance2c</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-89"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">distance2c</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">distance2b</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-90"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">distance2b</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">distance2a</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">distance2a</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">sonar2</span><span class="crayon-sy">.</span><span class="crayon-v">ping_cm</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-92"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">distance2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">distance2a</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">distance2b</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">distance2c</span><span class="crayon-sy">)</span><span class="crayon-o">/</span><span class="crayon-cn">3</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-93">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//obtain and smooth weight from load sensor 1</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-95"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">scale</span><span class="crayon-sy">.</span><span class="crayon-v">set_scale</span><span class="crayon-sy">(</span><span class="crayon-v">calibration_factor</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//Adjust to this calibration factor</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-96"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">weight1a</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">weight1b</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-97"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">weight1b</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">weight1c</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-98"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">weight1c</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">scale</span><span class="crayon-sy">.</span><span class="crayon-v">get_units</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-99"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">weight1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">weight1a</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">weight1b</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">weight1c</span><span class="crayon-sy">)</span><span class="crayon-o">/</span><span class="crayon-cn">3</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-100">&nbsp;</div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-101"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//obtain and smooth weight from load sensor 2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-102"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">scale2</span><span class="crayon-sy">.</span><span class="crayon-v">set_scale</span><span class="crayon-sy">(</span><span class="crayon-v">calibration_factor</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//Adjust to this calibration factor</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-103"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">weight2a</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">weight2b</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-104"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">weight2b</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">weight2c</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-105"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">weight2c</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">scale2</span><span class="crayon-sy">.</span><span class="crayon-v">get_units</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-106"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">weight2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">weight2a</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">weight2b</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">weight2c</span><span class="crayon-sy">)</span><span class="crayon-o">/</span><span class="crayon-cn">3</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-107"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-108"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//Map distance values to reflect correct location on the LED strips</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-109"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ledValue1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">map</span><span class="crayon-sy">(</span><span class="crayon-v">distance1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">55</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">35</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-110"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ledValue1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">abs</span><span class="crayon-sy">(</span><span class="crayon-v">ledValue1</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-cn">35</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-111"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-112"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ledValue2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">map</span><span class="crayon-sy">(</span><span class="crayon-v">distance2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">55</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">42</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">70</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-113"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-114"><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-115"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//Clear past LED configuration and reset fade index</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-116"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">FastLED</span><span class="crayon-sy">.</span><span class="crayon-v">clear</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-117"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dimCount</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-118"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-119"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-120"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//configure lights in first section of LED strip depending on weight and times blinked</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-121"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">weight1</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">bikeweight</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-122">&nbsp;</div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-123"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//condition for yellow lights</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-124"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">weight1</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-v">carweight</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">blinkcount1</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">blinkmax</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-125">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-126"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//start time to configure yellow lights blinking </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-127"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">unsigned</span><span class="crayon-h"> </span><span class="crayon-r">long</span><span class="crayon-h"> </span><span class="crayon-v">currentMillis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">millis</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-128">&nbsp;</div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-129"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//turn yellow lights on when millis is between blink interval</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-130"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">currentMillis</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">previousMillis</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-v">blinkspeed</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">currentMillis</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">previousMillis</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">blinkspeed</span><span class="crayon-o">*</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-131"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-r">int</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ledValue1</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">ledValue1</span><span class="crayon-o">+</span><span class="crayon-cn">7</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-132"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-sy">(</span><span class="crayon-cn">100</span><span class="crayon-sy">,</span><span class="crayon-cn">255</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-133"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">fadeToBlackBy</span><span class="crayon-sy">(</span><span class="crayon-v">DimArray</span><span class="crayon-sy">[</span><span class="crayon-v">dimCount</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-134"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds2</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-sy">(</span><span class="crayon-cn">100</span><span class="crayon-sy">,</span><span class="crayon-cn">255</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-135"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds2</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">fadeToBlackBy</span><span class="crayon-sy">(</span><span class="crayon-v">DimArray</span><span class="crayon-sy">[</span><span class="crayon-v">dimCount</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-136"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dimCount</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dimCount</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-137"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-138"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">blinkcount1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">blinkcount1</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-139">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-140"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//turn lights off when millis is smaller then blink interval</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-141"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">currentMillis</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">previousMillis</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">blinkspeed</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-142"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-r">int</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ledValue1</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">ledValue1</span><span class="crayon-o">+</span><span class="crayon-cn">7</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-143"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-o">::</span><span class="crayon-v">Black</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-144"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds2</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-o">::</span><span class="crayon-v">Black</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-145"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-146">&nbsp;</div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-147"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//When greater than blink interval, reset millis </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-148"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-149"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">previousMillis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">currentMillis</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-150"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-151">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-152"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">//condition for red lights</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-153"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">weight1</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-v">carweight</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">blinkcount1</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-v">blinkmax</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-154"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//start time to configure red lights blinking </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-155"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">unsigned</span><span class="crayon-h"> </span><span class="crayon-r">long</span><span class="crayon-h"> </span><span class="crayon-v">currentMillis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">millis</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-156"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">currentMillis</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">previousMillis</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-v">blinkspeed</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">currentMillis</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">previousMillis</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">blinkspeed</span><span class="crayon-o">*</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-157"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-r">int</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ledValue1</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">ledValue1</span><span class="crayon-o">+</span><span class="crayon-cn">7</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-158">&nbsp;</div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-159"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//unlike the yellow lights, red lights include a sound response </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-160"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">NewTone</span><span class="crayon-sy">(</span><span class="crayon-v">buzzerPin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">523</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">100</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-161"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-162"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">255</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-163"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">fadeToBlackBy</span><span class="crayon-sy">(</span><span class="crayon-v">DimArray</span><span class="crayon-sy">[</span><span class="crayon-v">dimCount</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-164"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds2</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">255</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-165"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds2</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">fadeToBlackBy</span><span class="crayon-sy">(</span><span class="crayon-v">DimArray</span><span class="crayon-sy">[</span><span class="crayon-v">dimCount</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-166"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dimCount</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dimCount</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-167"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dimCount</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-168"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-169"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-170"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">currentMillis</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">previousMillis</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">blinkspeed</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-171"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-r">int</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ledValue1</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">ledValue1</span><span class="crayon-o">+</span><span class="crayon-cn">7</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-172"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-o">::</span><span class="crayon-v">Black</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-173"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds2</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-o">::</span><span class="crayon-v">Black</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-174"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-175"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">else</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-176"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">previousMillis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">currentMillis</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-177"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-178"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-179">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-180"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-181"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-r">int</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ledValue1</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">ledValue1</span><span class="crayon-o">+</span><span class="crayon-cn">7</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-182"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-o">::</span><span class="crayon-v">White</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-183"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">fadeToBlackBy</span><span class="crayon-sy">(</span><span class="crayon-v">DimArray</span><span class="crayon-sy">[</span><span class="crayon-v">dimCount</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-184"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds2</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-o">::</span><span class="crayon-v">White</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-185"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds2</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">fadeToBlackBy</span><span class="crayon-sy">(</span><span class="crayon-v">DimArray</span><span class="crayon-sy">[</span><span class="crayon-v">dimCount</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-186"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dimCount</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dimCount</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-187"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">blinkcount1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-188"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-189">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-190"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">//reset dim index in preparation for activating the second portion of the LED strip (the same way as the first) </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-191"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">dimCount</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-192"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-193"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">weight2</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-v">bikeweight</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-194"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">weight2</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-v">carweight</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">blinkcount2</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">blinkmax</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-195"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">unsigned</span><span class="crayon-h"> </span><span class="crayon-r">long</span><span class="crayon-h"> </span><span class="crayon-v">currentMillis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">millis</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-196"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">currentMillis</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">previousMillis</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-v">blinkspeed</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">currentMillis</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">previousMillis</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">blinkspeed</span><span class="crayon-o">*</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-197"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-r">int</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ledValue2</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">ledValue2</span><span class="crayon-o">+</span><span class="crayon-cn">7</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-198"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-sy">(</span><span class="crayon-cn">100</span><span class="crayon-sy">,</span><span class="crayon-cn">255</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-199"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">fadeToBlackBy</span><span class="crayon-sy">(</span><span class="crayon-v">DimArray</span><span class="crayon-sy">[</span><span class="crayon-v">dimCount</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-200"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds2</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-sy">(</span><span class="crayon-cn">100</span><span class="crayon-sy">,</span><span class="crayon-cn">255</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-201"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds2</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">fadeToBlackBy</span><span class="crayon-sy">(</span><span class="crayon-v">DimArray</span><span class="crayon-sy">[</span><span class="crayon-v">dimCount</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-202"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dimCount</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dimCount</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-203"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-204"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">blinkcount2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">blinkcount2</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-205"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">currentMillis</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">previousMillis</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">blinkspeed</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-206"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-r">int</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ledValue2</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">ledValue2</span><span class="crayon-o">+</span><span class="crayon-cn">7</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-207"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-o">::</span><span class="crayon-v">Black</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-208"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds2</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-o">::</span><span class="crayon-v">Black</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-209"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-210"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-211"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">previousMillis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">currentMillis</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-212"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-213"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-214"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">weight2</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-v">carweight</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">blinkcount2</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-v">blinkmax</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-215"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">unsigned</span><span class="crayon-h"> </span><span class="crayon-r">long</span><span class="crayon-h"> </span><span class="crayon-v">currentMillis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">millis</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-216"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">currentMillis</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">previousMillis</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-v">blinkspeed</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">currentMillis</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">previousMillis</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">blinkspeed</span><span class="crayon-o">*</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-217"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-r">int</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ledValue2</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">ledValue2</span><span class="crayon-o">+</span><span class="crayon-cn">7</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-218"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">NewTone</span><span class="crayon-sy">(</span><span class="crayon-v">buzzerPin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">523</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">100</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-219"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">255</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-220"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">fadeToBlackBy</span><span class="crayon-sy">(</span><span class="crayon-v">DimArray</span><span class="crayon-sy">[</span><span class="crayon-v">dimCount</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-221"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds2</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">255</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-222"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds2</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">fadeToBlackBy</span><span class="crayon-sy">(</span><span class="crayon-v">DimArray</span><span class="crayon-sy">[</span><span class="crayon-v">dimCount</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-223"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dimCount</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dimCount</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-224"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dimCount</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-225"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-c">//Think about changing the location of this to stop the flickering.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-226"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">currentMillis</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">previousMillis</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">blinkspeed</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-227"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-r">int</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ledValue2</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">ledValue2</span><span class="crayon-o">+</span><span class="crayon-cn">7</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-228"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-o">::</span><span class="crayon-v">Black</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-229"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds2</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-o">::</span><span class="crayon-v">Black</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-230"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-c">//Think about changing the location of this to stop the flickering. </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-231"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-232"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">previousMillis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">currentMillis</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-233"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-234"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-235"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-236"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-r">int</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ledValue2</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">ledValue2</span><span class="crayon-o">+</span><span class="crayon-cn">7</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">led</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-237"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-o">::</span><span class="crayon-v">White</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-238"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">fadeToBlackBy</span><span class="crayon-sy">(</span><span class="crayon-v">DimArray</span><span class="crayon-sy">[</span><span class="crayon-v">dimCount</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-239"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds2</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CRGB</span><span class="crayon-o">::</span><span class="crayon-v">White</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-240"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">leds2</span><span class="crayon-sy">[</span><span class="crayon-v">led</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">fadeToBlackBy</span><span class="crayon-sy">(</span><span class="crayon-v">DimArray</span><span class="crayon-sy">[</span><span class="crayon-v">dimCount</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-241"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dimCount</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dimCount</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-242"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">blinkcount2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-243"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-244">&nbsp;</div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-245"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-246"><span class="crayon-v">FastLED</span><span class="crayon-sy">.</span><span class="crayon-v">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a4c1d3fead27133977960-247">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a4c1d3fead27133977960-248"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0688 seconds] -->
<p>&nbsp;</p>
	</div><!-- .entry-content -->
	
	</article><!-- #post-## -->
	<nav class="navigation post-navigation" role="navigation">
		<h1 class="screen-reader-text">Post navigation</h1>
		<div class="nav-links">
			<a href="http://www.sensingthecity.com/illuminate-a-smart-lighting-system/" rel="prev"><span class="meta-nav">Previous Post</span>Illuminate: A Smart Lighting System</a><a href="http://www.sensingthecity.com/iotrash/" rel="next"><span class="meta-nav">Next Post</span>IoTrash</a>		</div><!-- .nav-links -->
	</nav><!-- .navigation -->
	
<div id="comments" class="comments-area">

	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/lit-lane-the-smart-bike-lane/#respond" style="display:none;">Cancel reply</a></small></h3>			<form action="http://www.sensingthecity.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate>
				<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" aria-required='true' required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required='true' required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='630' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="40415865a2" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="226"/></p>			</form>
			</div><!-- #respond -->
	
</div><!-- #comments -->
		</div><!-- #content -->
	</div><!-- #primary -->

<div id="secondary">
		<h2 class="site-description">CPLN 571</h2>
	
	
		<div id="primary-sidebar" class="primary-sidebar widget-area" role="complementary">
		<aside id="text-2" class="widget widget_text">			<div class="textwidget"></div>
		</aside><aside id="collapscat-2" class="widget widget_collapscat"><ul id='widget-collapscat-2-top' class='collapsing categories list'>
      <li class='collapsing categories expandable'><span class='collapsing categories expand'><span class='sym'>+  </span></span><a href='http://www.sensingthecity.com/category/course-materials/' title="View all posts filed under COURSE MATERIALS">COURSE MATERIALS</a>
     <div id='collapsCat-2:2' style="display:none">
<ul><li class='collapsing categories expandable'><span class='collapsing categories expand'><span class='sym'>+  </span></span><a href='http://www.sensingthecity.com/category/course-materials/assignments/' title="View all posts filed under Assignments">Assignments</a>
<div id='collapsCat-5:2' style="display:none">
          </div>
         </li> <!-- ending subcategory -->
</ul>        </div>
      </li> <!-- ending category -->
      <li class='collapsing categories expandable parent'><span class='collapsing categories collapse'><span class='sym'>-  </span></span><a href='http://www.sensingthecity.com/category/projects/' title="View all posts filed under PROJECTS">PROJECTS</a>
     <div id='collapsCat-4:2' style="display:block">
<ul><li class='collapsing categories item'><a href='http://www.sensingthecity.com/powerdown-challenge-kit/' title='PowerDown Challenge Kit'>PowerDown Challenge Kit</a></li>
<li class='collapsing categories item'><a href='http://www.sensingthecity.com/illuminate-a-smart-lighting-system/' title='Illuminate: A Smart Lighting System'>Illuminate: A Smart Lighting System</a></li>
<li class='collapsing categories item self'><a href='http://www.sensingthecity.com/lit-lane-the-smart-bike-lane/' title='Lit-Lane: The Smart Bike Lane'>Lit-Lane: The Smart Bike Lane</a></li>
<li class='collapsing categories item'><a href='http://www.sensingthecity.com/iotrash/' title='IoTrash'>IoTrash</a></li>
<li class='collapsing categories item'><a href='http://www.sensingthecity.com/conversational-bin/' title='Conversational Bin'>Conversational Bin</a></li>
<li class='collapsing categories item'><a href='http://www.sensingthecity.com/indetorch/' title='IndeTorch: Enhancing Biker Safety with Data &amp; the Environment'>IndeTorch: Enhancing Biker Safety with Data &amp; the Environment</a></li>
</ul>        </div>
      </li> <!-- ending category -->
      <li class='collapsing categories expandable'><span class='collapsing categories expand'><span class='sym'>+  </span></span><a href='http://www.sensingthecity.com/category/tutorials/' title="View all posts filed under TUTORIALS">TUTORIALS</a>
     <div id='collapsCat-3:2' style="display:none">
        </div>
      </li> <!-- ending category -->
<li style='display:none'><script type="text/javascript">
// <![CDATA[
/* These variables are part of the Collapsing Categories Plugin 
      *  Version: 2.0.9
      *  $Id: collapscat.php 1715340 2017-08-18 14:22:21Z robfelty $
      * Copyright 2007 Robert Felty (robfelty.com)
      */
var expandSym='+  ';
var collapseSym='-  ';
try { collapsItems['catTest'] = 'test'; } catch (err) { collapsItems = new Object(); }
collapsItems['collapsCat-5:2'] = '<ul><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/getting-started/\' title=\'Getting Started\'>Getting Started</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/lab-1-leds/\' title=\'Lab 1. LEDs\'>Lab 1. LEDs</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/lab-2-sensors/\' title=\'Lab 2. Sensors\'>Lab 2. Sensors</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/lab-3-motors/\' title=\'Lab 3. Motors\'>Lab 3. Motors</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/lab-4-voltage-current-resistance/\' title=\'Lab 4. Voltage, current, and resistance\'>Lab 4. Voltage, current, and resistance</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/lab-5-communicating-sensor-data/\' title=\'Lab 5. Communicating sensor data\'>Lab 5. Communicating sensor data</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/lab-6-gps-logging/\' title=\'Lab 6. GPS logging\'>Lab 6. GPS logging</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/lab-7-air-quality-mapping/\' title=\'Lab 7. Air quality mapping\'>Lab 7. Air quality mapping</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/project-overview/\' title=\'Project: Overview\'>Project: Overview</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/project-diagram/\' title=\'Project: Diagram\'>Project: Diagram</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/project-tutorial/\' title=\'Project: Tutorial\'>Project: Tutorial</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/project-presentation/\' title=\'Project: Presentation\'>Project: Presentation</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/project-final-presentation-blog/\' title=\'Project: Final presentation + blog\'>Project: Final presentation + blog</a></li></ul>';
collapsItems['collapsCat-2:2'] = '<ul><li class=\'collapsing categories expandable\'><span class=\'collapsing categories expand\'><span class=\'sym\'>+  </span></span><a href=\'http://www.sensingthecity.com/category/course-materials/assignments/\' title=\"View all posts filed under Assignments\">Assignments</a><div id=\'collapsCat-5:2\' style=\"display:none\">          </div>         </li> <!-- ending subcategory --><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/syllabus/\' title=\'Schedule + Syllabus\'>Schedule + Syllabus</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/resources/\' title=\'Resources\'>Resources</a></li></ul>';
collapsItems['collapsCat-4:2'] = '<ul><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/powerdown-challenge-kit/\' title=\'PowerDown Challenge Kit\'>PowerDown Challenge Kit</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/illuminate-a-smart-lighting-system/\' title=\'Illuminate: A Smart Lighting System\'>Illuminate: A Smart Lighting System</a></li><li class=\'collapsing categories item self\'><a href=\'http://www.sensingthecity.com/lit-lane-the-smart-bike-lane/\' title=\'Lit-Lane: The Smart Bike Lane\'>Lit-Lane: The Smart Bike Lane</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/iotrash/\' title=\'IoTrash\'>IoTrash</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/conversational-bin/\' title=\'Conversational Bin\'>Conversational Bin</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/indetorch/\' title=\'IndeTorch: Enhancing Biker Safety with Data &amp; the Environment\'>IndeTorch: Enhancing Biker Safety with Data &amp; the Environment</a></li></ul>';
collapsItems['collapsCat-3:2'] = '<ul><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/pushsensordatatoadafruitio/\' title=\'PUSH SENSOR DATA ONTO ADAFRUIT IO\'>PUSH SENSOR DATA ONTO ADAFRUIT IO</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/connecting-two-arduino-unos-to-communicate-with-each-other/\' title=\'Connecting Two Arduino Unos To Communicate With Each Other\'>Connecting Two Arduino Unos To Communicate With Each Other</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/creating-a-non-invasive-current-sensor/\' title=\'Creating a non-invasive current sensor\'>Creating a non-invasive current sensor</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/lcd-screen-tutorial/\' title=\'LCD Screen Tutorial\'>LCD Screen Tutorial</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/controlling-an-addressable-led-strip-with-any-sensor/\' title=\'Controlling an &quot;Addressable&quot; LED Strip with Any Sensor\'>Controlling an \"Addressable\" LED Strip with Any Sensor</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/weighing-sensor-tutorial-_-draft/\' title=\'Weighing Sensor Tutorial _ Draft\'>Weighing Sensor Tutorial _ Draft</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/vibrations-to-light-use-a-piezo-element-to-control-an-led-strip/\' title=\'Vibrations to Light: Use a Piezo Element to Control an LED Strip\'>Vibrations to Light: Use a Piezo Element to Control an LED Strip</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/detecting-a-full-garbage-bin-using-an-ultrasonic-distance-sensor/\' title=\'Detecting a Full Garbage Bin Using an Ultrasonic Distance Sensor\'>Detecting a Full Garbage Bin Using an Ultrasonic Distance Sensor</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/changing-rgb-led-display-in-accordance-with-pir-sensor/\' title=\'Changing RGB LED Display In Accordance with PIR Sensor\'>Changing RGB LED Display In Accordance with PIR Sensor</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/sd_card_reading/\' title=\'Writing and Reading Data to an SD Card\'>Writing and Reading Data to an SD Card</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/using-force-sensitive-resistor-to-detect-the-fullness-of-a-trash-bin-and-change-rgb-color-accordingly/\' title=\'Using Force Sensitive Resistor to Detect the Fullness of a Trash Bin and Change RGB Color Accordingly\'>Using Force Sensitive Resistor to Detect the Fullness of a Trash Bin and Change RGB Color Accordingly</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/using-distance-to-activate-light/\' title=\'Using Distance to Activate Light\'>Using Distance to Activate Light</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/using-an-led-bar-graph-to-indicate-sensor-readings/\' title=\'Using an LED bar graph to indicate sensor readings\'>Using an LED bar graph to indicate sensor readings</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/multi-directional-sequential-led-chaser-with-directiongesture-sensor/\' title=\'Multi-Directional Sequential LEDs with Direction/Gesture Sensor\'>Multi-Directional Sequential LEDs with Direction/Gesture Sensor</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/how-to-control-the-rotation-of-servos-by-the-pir-sensor-and-force-sensitive-resistor/\' title=\'How to control the rotation of servos by the PIR Sensor and Force Sensitive Resistor\'>How to control the rotation of servos by the PIR Sensor and Force Sensitive Resistor</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/play-315mhz-rf-transmitter-and-receiver-modules-with-arduino/\' title=\'PLAY 315MHZ RF TRANSMITTER AND RECEIVER MODULES WITH ARDUINO\'>PLAY 315MHZ RF TRANSMITTER AND RECEIVER MODULES WITH ARDUINO</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/receive-and-auto-reply-a-sms-on-gpsfona-808/\' title=\'RECEIVE AND AUTO-REPLY A SMS ON GPS(FONA 808)\'>RECEIVE AND AUTO-REPLY A SMS ON GPS(FONA 808)</a></li><li class=\'collapsing categories item\'><a href=\'http://www.sensingthecity.com/push-button-to-send-sms-with-gps-location-i-e-panic-button/\' title=\'Push Button to Send SMS with GPS Location [i.e., Panic Button]\'>Push Button to Send SMS with GPS Location [i.e., Panic Button]</a></li></ul>';
/*  Collapse Functions, version 2.0
 *
 *--------------------------------------------------------------------------*/
String.prototype.trim = function() {
  return this.replace(/^\s+|\s+$/g,"");
}

function createCookie(name,value,days) {
  if (days) {
    var date = new Date();
    date.setTime(date.getTime()+(days*24*60*60*1000));
    var expires = "; expires="+date.toGMTString();
  } else {
    var expires = "";
  }
  document.cookie = name+"="+value+expires+"; path=/";
}

function readCookie(name) {
  var nameEQ = name + "=";
  var ca = document.cookie.split(';');
  for(var i=0;i < ca.length;i++) {
    var c = ca[i];
    while (c.charAt(0)==' ') {
      c = c.substring(1,c.length);
    }
    if (c.indexOf(nameEQ) == 0) {
      return c.substring(nameEQ.length,c.length);
    }
  }
  return null;
}

function eraseCookie(name) {
  createCookie(name,"",-1);
}

function addExpandCollapse(id, expandSym, collapseSym, accordion) {
  jQuery('#' + id + ' .expand').live('click', function() {
    if (accordion==1) {
      var theDiv = jQuery(this).parent().parent().find('span.collapse').parent().find('div');
      jQuery(theDiv).hide('normal');
      jQuery(this).parent().parent().find('span.collapse').removeClass('collapse').addClass('expand');
        createCookie(theDiv.attr('id'), 0, 7);
    }
    jQuery('#' + id + ' .expand .sym').html(expandSym);
    expandCat(this, expandSym, collapseSym);
    return false;
  });
  jQuery('#' + id + ' .collapse').live('click', function() {
    collapseCat(this, expandSym, collapseSym);
    return false;
  });
}

function expandCat(symbol, expandSym, collapseSym) {
    var theDiv = jQuery(symbol).parent().find('div');
    jQuery(theDiv).html(collapsItems[jQuery(theDiv).attr('id')]).show('normal');
    jQuery(symbol).removeClass('expand').addClass('collapse');
    jQuery(symbol).find('.sym').html(collapseSym);
  createCookie(theDiv.attr('id'), 1, 7);
}
function collapseCat(symbol, expandSym, collapseSym) {
    var theDiv = jQuery(symbol).parent().find('div');
    jQuery(theDiv).hide('normal');
    jQuery(symbol).removeClass('collapse').addClass('expand');
    jQuery(symbol).find('.sym').html(expandSym);
  createCookie(theDiv.attr('id'), 0, 7);
}
addExpandCollapse('widget-collapscat-2-top','+  ', '-  ', 0)// ]]>
</script></li>
</ul>
</aside>	</div><!-- #primary-sidebar -->
	</div><!-- #secondary -->

		</div><!-- #main -->

		<footer id="colophon" class="site-footer" role="contentinfo">

			
			<div class="site-info">
								<a href="https://wordpress.org/">Proudly powered by WordPress</a>
			</div><!-- .site-info -->
		</footer><!-- #colophon -->
	</div><!-- #page -->

	<script type='text/javascript' src='http://www.sensingthecity.com/wp-includes/js/comment-reply.min.js?ver=4.8.4'></script>
<script type='text/javascript' src='http://www.sensingthecity.com/wp-content/themes/twentyfourteen/js/functions.js?ver=20150315'></script>
<script type='text/javascript' src='http://www.sensingthecity.com/wp-includes/js/wp-embed.min.js?ver=4.8.4'></script>
<script type='text/javascript' src='http://www.sensingthecity.com/wp-content/plugins/akismet/_inc/form.js?ver=4.0'></script>
</body>
</html>